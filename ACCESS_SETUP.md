# Настройка доступа к сайту

## Как это работает

Сайт защищен от прямого доступа через bcrypt-хешированный пароль в URL. Пользователи могут просматривать содержимое только при переходе по правильной ссылке с секретным паролем.

## Безопасность bcrypt

- **Соль**: Каждый хеш содержит уникальную соль
- **Адаптивная сложность**: 12 раундов хеширования (рекомендуется 10-12)
- **Защита от брутфорса**: bcrypt специально разработан для медленного хеширования
- **Длина хеша**: 60 символов

## Настройка секретного пароля

1. Откройте файл `src/shared/config/access.ts`
2. Измените значение `SECRET_PASSWORD` на любой другой пароль:

```typescript
export const ACCESS_CONFIG = {
  SECRET_PASSWORD: 'ваш_новый_пароль_здесь',
  // ...
}
```

3. Сгенерируйте новый хеш с помощью скрипта:

```bash
node generate-bcrypt-hash.js
```

4. Скопируйте сгенерированный хеш в `SECRET_HASH`

## Правильная ссылка для доступа

После настройки пароля, правильная ссылка будет выглядеть так:

```
https://ваш-домен.com/#ваш_пароль_здесь
```

Например, если пароль установлен как `invitation2025`, то ссылка будет:
```
https://ваш-домен.com/#invitation2025
```

## Что происходит при неправильном доступе

- Если пользователь заходит на сайт без пароля или с неправильным паролем, он увидит страницу "Доступ запрещен"
- Содержимое сайта не будет загружено
- Пользователь получит сообщение о необходимости использовать правильную ссылку

## Генерация нового хеша

Для генерации нового bcrypt хеша используйте один из способов:

### 1. Скрипт Node.js
```bash
node generate-bcrypt-hash.js
```

### 2. В консоли браузера
```javascript
import { generateHashForPassword } from './src/shared/config/access.js'
await generateHashForPassword('ваш_пароль')
```

### 3. Программно
```javascript
import { hashPassword } from './src/shared/config/access.js'
const hash = await hashPassword('ваш_пароль')
```

## Преимущества bcrypt

✅ **Безопасность**: Использует соль и адаптивную сложность  
✅ **Защита от атак**: Специально разработан для защиты паролей  
✅ **Уникальность**: Каждый хеш уникален даже для одинаковых паролей  
✅ **Проверка**: Встроенная функция `bcrypt.compare()` для безопасной проверки  

## Изменение сообщений

Вы можете изменить сообщения, которые видят пользователи при отказе в доступе, отредактировав объект `MESSAGES` в файле `src/shared/config/access.ts`:

```typescript
MESSAGES: {
  ACCESS_DENIED: 'Ваше сообщение',
  ACCESS_DENIED_DESCRIPTION: 'Ваше описание'
}
``` 